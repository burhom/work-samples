function movearound(){$(".square").shuffle();timer=setTimeout(function(){movearound()},200)}function resizeCanvas(){$(".hover-img").each(function(e,t){var n=$(this)[0],r=n.getContext("2d");n.width=$(".project").width();n.height=$(".img-wrapper").height();$(this).data("instapixel").redraw({resize:!0})})}function loadPost(e,t){$("body").addClass("fixed");if(t.parents("#posts").length){if(typeof SVGLoader=="function")var n=new SVGLoader(document.getElementById("loader"),{speedIn:700,easingIn:mina.easeinout});$("html").hasClass("no-svg")?$("#loader").addClass("show"):n.show();$("#loader h3").delay(700).fadeIn(300,function(){$("#post").load(e+" #post > *",function(e,t,r){t!="error"&&$("#post").fadeIn(300,function(){$("body").addClass("article-active");n.hide();$("#loader").removeClass("show pageload-loading");$("#loader h3").hide()})})})}else{if(t.parents(".archive").length){var r=t.find("h3").html();t.find("h3").fadeTo(100,0,function(){t.find("h3").html("Loading...").fadeTo(100,1)})}else{var r=t.find("span").html();t.find("span").fadeTo(100,0,function(){t.find("span").html("Loading...").fadeTo(100,1)})}$("#project").load(e+" #project > *",function(e,n,i){if(n=="error")t.parents(".archive").length?t.find("h3").fadeTo(100,0,function(){t.find("h3").html("Error").fadeTo(100,1)}):t.find("span").fadeTo(100,0,function(){t.find("span").html("Error").fadeTo(100,1)});else{console.log(i.status);console.log(n);var s=$("#header").css("position")==="fixed"?$("#header").height()+"px":0;$("#project").fadeIn(200).animate({top:s},700,"easeInOutExpo",function(){t.parents(".archive").length?t.find("h3").html(r):t.find("span").html(r);$("body").addClass("project-active")});$(".project-links a").each(function(){$(this).css("margin-top",$(this).width()/2+40).delay(700).animate({opacity:1},300)})}})}}jQuery.fn.shuffle=function(){var e;for(var t=0;t<this.length;t++){e=Math.floor(Math.random()*this.length);$(this[t]).before($(this[e]))}return this};$("#logo a").on("mouseenter",movearound);var timer;$("#logo a").on("mouseleave",function(){clearTimeout(timer)});(function(){function e(e){e.preventDefault();var t=$(this),n=" | ",r=$(document).find("title").text();r=r.substring(r.indexOf(n),r.length);$(this).parents(".project").length?r=$(this).closest(".project").find("h4").text()+r:$(this).parents(".archive").length?r=$(this).find("span.name").text()+r:$(this).parents(".project-links").length?r=$(this).find("span").text()+r:$(this).parents("#posts").length?r=$(this).find("> h4").text()+r:r=t.text()+r;var i=t.attr("href");History.pushState(null,r,i);if(t.parents(".project, .archive, .project-links, #posts").length)loadPost(i,t);else if($("body").hasClass("article-active")){$("#post").fadeOut(400,function(){$("body").removeClass("fixed article-active");$("#post").empty().hide()});$("html, body").stop().animate({scrollTop:$("#"+i.replace("/","")).offset().top},2e3,"easeInOutExpo")}else{$("#project").animate({top:"100%"},700,"easeInOutExpo",function(){$("body").removeClass("fixed project-active");$("#project").empty().hide()});$("html, body").stop().animate({scrollTop:$("#"+i.replace("/","")).offset().top},2e3,"easeInOutExpo")}}$(".section").waypoint(function(e){if(e==="down"){var t=$('a[href="/'+this.id+'"]');$("ul.nav.navbar-nav li").removeClass("active");t.parent().addClass("active")}},{offset:"50%"});$(".section").waypoint(function(e){if(e==="up"){var t=$('a[href="/'+this.id+'"]');$("ul.nav.navbar-nav li").removeClass("active");t.parent().addClass("active")}},{offset:function(){return $.waypoints("viewportHeight")/2-$(this).outerHeight()}});$("ul.nav.navbar-nav li a, .project a, .archive a, .post > a").on("click",e);$("#project").on("click",".project-links a",e)})();$(window).load(function(){var e=document.location.pathname,t=e.split("/")[2];e=e.substring(e.lastIndexOf("/")+1,e.length);$("#"+e).length&&!t?$("html, body").stop().animate({scrollTop:$("#"+e).offset().top},2e3,"easeInOutExpo"):typeof t!="undefined"&&$(".project-links a").each(function(){$(this).css("margin-top",$(this).width()/2+40).delay(700).animate({opacity:1},300)})});$(window).on("resize",function(){resizeCanvas()});$(document).ready(function(){$(".slider").slick({autoplay:!0,infinite:!0,arrows:!1,dots:!0,speed:800,cssEase:"cubic-bezier(0.86, 0, 0.07, 1)",slidesToShow:1,slidesToScroll:1});$(".next").on("click",function(){$(this).parent().slickNext()});$(".prev").on("click",function(){$(this).parent().slickPrev()});$("#posts").slick({centerMode:!0,arrows:!1,centerPadding:"200px",slidesToShow:1,speed:800,cssEase:"cubic-bezier(0.86, 0, 0.07, 1)",responsive:[{breakpoint:768,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:1}},{breakpoint:480,settings:{arrows:!1,centerMode:!1,slidesToShow:1}}]});$(".next").on("click",function(){$(this).parent().slickNext()});$(".prev").on("click",function(){$(this).parent().slickPrev()});$("#project").on("click","a.close",function(e){e.preventDefault();$("#project").animate({top:"100%"},700,"easeInOutExpo",function(){$("body").removeClass("fixed project-active");$("#project").empty().hide()})});$("#post").on("click","a.close",function(e){e.preventDefault();$("#post").fadeOut(400,function(){$("body").removeClass("fixed article-active");$("#post").empty().hide()})});$(".btn").hover(function(){$(".line-t, .line-b",this).stop().animate({width:"100%"},400,"easeInOutQuint");$(".line-r, .line-l",this).stop().animate({height:"100%"},400,"easeInOutQuint")},function(){$(".line-t, .line-b",this).stop().animate({width:"10px"},400,"easeInOutQuint");$(".line-r, .line-l",this).stop().animate({height:"10px"},400,"easeInOutQuint")});$("label").inFieldLabels();$(".project").on({mouseover:function(){$(".overlay",this).fadeIn(300)},mouseleave:function(){$(".overlay",this).fadeOut(300)}});$(".project").each(function(){$(".hover-img",this).instapixel({imgURL:$(".img-wrapper img",this).attr("src"),debug:!1})});resizeCanvas();$("#archives .btn").on("click",function(e){e.preventDefault();$("body").addClass("fixed");$("#archives .overlay").removeClass("close").addClass("open")});$("#archives .btn-close").on("click",function(e){e.preventDefault();$("body").removeClass("fixed");$("#archives .overlay").removeClass("open").addClass("close")})});